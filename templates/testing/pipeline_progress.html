{% macro progress_bar(current_step, total_steps=4) %}
<div class="mb-8">
    <div class="flex justify-between items-center mb-2">
        {% for step in range(1, total_steps + 1) %}
        <div class="flex-1 text-center">
            <div class="inline-flex items-center justify-center w-10 h-10 rounded-full {% if step <= current_step %}bg-blue-600 text-white{% else %}bg-gray-300 text-gray-600{% endif %}">
                {{ step }}
            </div>
            <p class="text-xs mt-1 {% if step <= current_step %}text-blue-600 font-semibold{% else %}text-gray-500{% endif %}">
                {% if step == 1 %}Sample Registration
                {% elif step == 2 %}Parameter Selection
                {% elif step == 3 %}Results Entry
                {% elif step == 4 %}Review & Submit
                {% endif %}
            </p>
        </div>
        {% if not loop.last %}
        <div class="flex-1 h-1 {% if step < current_step %}bg-blue-600{% else %}bg-gray-300{% endif %} mx-2"></div>
        {% endif %}
        {% endfor %}
    </div>
    <div class="w-full bg-gray-200 rounded-full h-2">
        <div class="bg-blue-600 h-2 rounded-full" style="width: {{ (current_step / total_steps * 100)|round }}%"></div>
    </div>
</div>
{% endmacro %}

